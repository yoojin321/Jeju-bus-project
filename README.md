# 🚌 제주도 대중교통 데이터 분석 프로젝트

## 📊 프로젝트 개요

### 목표
이 프로젝트는 **제주도의 버스 이용 패턴을 분석**하여 대중교통 서비스 개선 방안을 도출하고, 데이터 기반의 효율적인 노선 운영을 지원하는 것을 목표로 합니다.

### 주요 기능
- 📈 제주도 버스 이용 패턴 분석 (2019-2024)
- 🗺️ 정류장별 혼잡도 히트맵 시각화
- 📊 시간대별/노선별/사용자 유형별 통계 분석
- 📅 주말/평일/월별 이용 패턴 분석
- 💡 데이터 기반 대중교통 개선 방안 제시

### 기술 스택
- **대시보드**: Streamlit
- **지도 시각화**: Folium
- **데이터 분석**: Pandas, NumPy
- **시각화**: Matplotlib, Seaborn, Plotly
- **데이터 처리**: Jupyter Notebook

---

## 🗃️ 데이터 수집 및 전처리

### 데이터 출처 및 기간
- **데이터 기간**: 2019년 ~ 2024년
- **데이터 출처**: 
  - 제주데이터허브 (https://www.jejudatahub.net)
  - 공공데이터포털 (https://www.data.go.kr)

### 주요 데이터
- 시간대별/정류장별 승하차 기록
- 정류장 위치 정보 (위도/경도)
- 사용자 유형 (일반, 청소년, 경로)
- 노선별 이용 현황
- 일별/월별 이용 통계

### 데이터 전처리 과정
프로젝트에서 수집한 원본 데이터에는 다음과 같은 문제점들이 있었습니다:

1. **결측치 문제**: 정류소 ID 및 위치 정보 누락
2. **한글 컬럼명**: 분석 편의를 위한 영문 변환 필요
3. **날짜/시간 형식 오류**: 통일된 형식으로 변환 필요
4. **데이터 중복**: 중복 레코드 제거 필요

**전처리 작업**:
- Pandas를 활용한 결측치 처리 (결측치가 있는 행 삭제)
- 컬럼명 영문 변환
- 날짜/시간 형식 통일
- 주말/평일 구분 파생변수 생성
- 연도/월/요일 등 분석에 필요한 파생변수 생성

---

## 📈 주요 분석 결과

### ⏰ 시간대별 분석 (언제)
- **가장 혼잡한 시간대 TOP 3**:
  1. 오후 4시 (16시) - 하루 중 최고 혼잡
  2. 오후 1시 (13시) - 점심 시간대 이후 관광객 증가
  3. 오전 7시 (7시) - 통학 및 출근 수요 집중

- **이용 패턴**:
  - 오전 7시: 통학 및 출근 수요가 집중되는 시간대
  - 오후 1시~4시: 관광객 및 일상 활동 관련 이용이 증가하는 패턴

### 🗺️ 노선/정류장별 분석 (어디서)
- **인기 노선 TOP 3**:
  1. **365번** (제주시 동부 순환)
  2. **360번** (제주시 도심)
  3. **281번** (제주시-서귀포시 급행)

- **혼잡 정류장 TOP 5**:
  1. 한라병원 (의료 시설)
  2. 제주버스터미널 (교통 허브)
  3. 제주동중학교 (교육 시설)
  4. 천수동 (주거/생활 지역)
  5. 화북남문 (교육/관광 지역)

### 👥 사용자 유형별 분석 (누가)
- **이용객 비중**:
  - 일반: **43.4%** (가장 높음)
  - 청소년: 18.5%
  - 경로: 16.5%

- **요일별 패턴**:
  - 평일 이용률: **74.4%**
  - 주말 이용률: **25.6%**
  - 평일이 주말보다 약 **3배** 높은 이용률

- **시계열 추세**:
  - 2020년 코로나19 이후 이용객 수 급감
  - 2022년 이후 현재는 이전 대비 약 **85% 수준**으로 회복이 더딘 경향

---

## 💡 대시보드 및 개선 아이디어

### 대시보드 기능
이 프로젝트는 **Streamlit**, **Folium**, **Matplotlib/Seaborn** 등 파이썬 라이브러리를 활용하여 다음 기능들을 구현했습니다:

- 🗺️ **정류장별 혼잡도 히트맵**: 지도 기반 시각화로 혼잡 지역 파악
- 📊 **노선별 이용객 비교 차트**: 인기 노선 및 이용 패턴 분석
- ⏰ **시간대별 패턴 분석**: 시간대별 이용 추이 시각화
- 📅 **주말/평일/월별 패턴**: 요일 및 시계열 분석

### 개선 아이디어 제안
분석 결과를 바탕으로 다음과 같은 대중교통 서비스 개선 방안을 제안합니다:

1. **혼잡 시간대 노선 증편**
   - 오전 7시, 오후 4시 등 혼잡 시간대 집중 배차
   - 인기 노선(365번, 360번, 281번) 증차 운영

2. **주말 관광지 중심 셔틀버스 도입**
   - 주말 관광객 수요 대응을 위한 전용 셔틀버스 운영
   - 주요 관광지 연결 노선 신설

3. **청소년/경로 맞춤형 요금제 개편**
   - 청소년(18.5%), 경로(16.5%) 이용객을 위한 요금 혜택 확대
   - 이용 패턴에 맞춘 할인 정책 수립

4. **실시간 혼잡도 알림 서비스 구축**
   - 정류장별 실시간 혼잡도 정보 제공
   - 스마트폰 앱을 통한 이용객 안내 서비스

---

## 🚀 시작하기

### 사전 요구사항
- Python 3.7 이상
- Jupyter Notebook
- 필요한 패키지: `streamlit`, `pandas`, `folium`, `streamlit-folium`, `matplotlib`, `seaborn`, `plotly`

### 설치 방법

```bash
# 필요한 패키지 설치
pip install streamlit pandas folium streamlit-folium matplotlib seaborn plotly jupyter
```

### 원본 데이터 다운로드
대용량 데이터 파일은 용량 제한으로 깃허브에 포함되지 않았습니다. 아래 링크에서 직접 다운로드하여 `origin_data/` 폴더에 저장하세요.

1. 제주데이터허브 – 버스 관련 데이터: <https://www.jejudatahub.net/data/view/data/743>
2. 제주데이터허브 – 버스 관련 데이터: <https://www.jejudatahub.net/data/view/data/512>
3. 공공데이터포털 – 버스 이용 데이터: <https://www.data.go.kr/data/15010850/fileData.do?recommendDataYn=Y>
4. 제주데이터허브 – 버스 관련 데이터: <https://www.jejudatahub.net/data/view/data/561>

**권장 저장 경로 및 예시 파일명**:
```
origin_data/
  ├── 이용자유형별버스정류소이용인원현황.csv
  ├── 일별버스승차인원수현황.csv
  ├── 일별시간대별버스승차인원수현황.csv
  └── 제주특별자치도_버스정류소현황_20221101.csv
```

### 정제 데이터 생성 방법
정제 데이터 파일은 노트북을 실행하여 생성합니다.

1. Jupyter에서 `project.ipynb`를 열고 셀을 순서대로 모두 실행합니다.
2. 실행이 완료되면 `cleaned_data/` 폴더에 정제된 CSV가 생성됩니다.
   - 예: `df1_clean.csv`, `df2_clean.csv`, `df5_clean.csv`

**참고**: 노트북/코드에 정의된 파일명이 환경에 따라 다를 수 있습니다. 생성된 파일명이 대시보드에서 참조하는 파일명과 일치하는지 확인하세요.

### 대시보드 실행 방법

```bash
# 프로젝트 디렉토리로 이동
cd Jeju-bus-project-main

# Streamlit 앱 실행
streamlit run app.py
```

브라우저에서 로컬 주소로 접속하면 대시보드를 확인할 수 있습니다. (예: `http://localhost:8501`)

---

## 📁 프로젝트 구조

```
Jeju-bus-project-main/
  ├── app.py                              # Streamlit 대시보드 메인 파일
  ├── project.ipynb                       # 데이터 전처리 및 정제 노트북
  ├── jeju_bus_congestion_heatmap.html   # 혼잡도 히트맵 HTML 파일
  ├── README.md                           # 프로젝트 설명서 (본 파일)
  ├── origin_data/                        # 원본 CSV 파일 (수동 다운로드 필요)
  │   ├── 이용자유형별버스정류소이용인원현황.csv
  │   ├── 일별버스승차인원수현황.csv
  │   ├── 일별시간대별버스승차인원수현황.csv
  │   └── 제주특별자치도_버스정류소현황_20221101.csv
  └── cleaned_data/                       # 정제된 CSV 파일 (노트북 실행 후 생성)
      ├── df1_clean.csv
      ├── df2_clean.csv
      └── df5_clean.csv
```

---

## 📝 참고사항

### 대용량 파일과 GitHub 업로드
- 대용량 CSV는 깃허브 용량 제한으로 저장소에 포함하지 않았습니다.
- 협업/배포가 필요하다면 Git LFS 사용을 고려하세요.
  - Git LFS 설치 후: `git lfs install` → `git lfs track "*.csv"`
- 또는 위 링크에서 직접 내려받아 `origin_data/`에 배치한 뒤, 노트북을 실행해 `cleaned_data/`를 생성하세요.

---

## 📊 데이터 출처
- **제주데이터허브**: https://www.jejudatahub.net
- **공공데이터포털**: https://www.data.go.kr
